{"version":3,"file":"main.min.js","sources":["../../src/script/main.js"],"sourcesContent":["// handle 'Назад' button\r\nconst backBtn = document.querySelector('.product-info__back');\r\nif (backBtn) backBtn.addEventListener('click', () => history.back());\r\n\r\n// add to cart \r\nconst toCart = document.querySelectorAll('.add-to-cart');\r\nif (toCart) toCart.forEach(item => item.addEventListener('click', handleAddToCart))\r\n\r\nasync function handleAddToCart(e) {\r\n    const id = e.target.getAttribute('data-id');\r\n    const url = \"/cart/addAjax/\" + id;\r\n    console.log(id);\r\n\r\n    const response = await fetch(url, {\r\n        method: \"POST\",\r\n        headers: {\r\n            \"Content-Type\": \"application/json\",\r\n        },\r\n    })\r\n    const result = await response.json();\r\n\r\n    const inCartCount = document.querySelector('#cart-count');   \r\n    inCartCount.textContent = result;\r\n\r\n    console.log(result);\r\n}\r\n"],"names":["backBtn","document","querySelector","addEventListener","history","back","toCart","querySelectorAll","handleAddToCart","_x","_handleAddToCart","apply","this","arguments","_regeneratorRuntime","mark","_callee","e","id","url","response","result","wrap","_context","prev","next","target","getAttribute","console","log","fetch","method","headers","sent","json","textContent","stop","forEach","item"],"mappings":"ykNACA,IAAMA,EAAUC,SAASC,cAAc,uBACnCF,GAASA,EAAQG,iBAAiB,SAAS,WAAA,OAAMC,QAAQC,MAAM,IAGnE,IAAMC,EAASL,SAASM,iBAAiB,gBAC0C,SAEpEC,EAAeC,GAAA,OAAAC,EAAAC,MAAAC,KAAAC,UAAA,CAAA,SAAAH,UAiB7B,SAjB6BI,IAAAC,MAA9B,SAAAC,EAA+BC,GAAC,IAAAC,EAAAC,EAAAC,EAAAC,EAAA,OAAAP,IAAAQ,MAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,KAAA,EAGZ,OAFVP,EAAKD,EAAES,OAAOC,aAAa,WAC3BR,EAAM,iBAAmBD,EAC/BU,QAAQC,IAAIX,GAAIK,EAAAE,KAAA,EAEOK,MAAMX,EAAK,CAC9BY,OAAQ,OACRC,QAAS,CACL,eAAgB,sBAEtB,KAAA,EALY,OAARZ,EAAQG,EAAAU,KAAAV,EAAAE,KAAA,EAMOL,EAASc,OAAM,KAAA,EAA9Bb,EAAME,EAAAU,KAEQhC,SAASC,cAAc,eAC/BiC,YAAcd,EAE1BO,QAAQC,IAAIR,GAAQ,KAAA,GAAA,IAAA,MAAA,OAAAE,EAAAa,OAAA,GAAApB,EACvB,IAjB6BN,gLAiB7BA,EAAAC,MAAAC,KAAAC,UAAA,CAnBGP,GAAQA,EAAO+B,SAAQ,SAAAC,GAAI,OAAIA,EAAKnC,iBAAiB,QAASK,EAAgB"}